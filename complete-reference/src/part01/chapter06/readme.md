# Глава 6. Введение в классы

## **Класс**

**Класс** - основа объектно-ориентированного программирования на языке Java.

Класс определяет новый тип данных. Класс - это шаблон для создания объекта, а объект - это экземпляр класса.
Класс определяет форму (данные) и сущность (код, воздействующий на данные) объекта.
Отличие класса от объекта в том, что класс - это логическая конструкция (каркас), а объект - физическая (занимает
область в оперативной памяти).

Общая форма класса:

```
class имя_класса {
    тип переменная_экземпляра_1;
    тип переменная_экземпляра_2;
    // ...
    тип переменная_экземпляра_n;
    
    тип имя_метода_1 (список_параметров) {
        // тело метода
    }
    тип имя_метода_2 (список_параметров) {
        // тело метода
    }
    // ...
    тип имя_метода_n (список_параметров) {
        // тело метода
    }
}
```

Данные (переменные экземпляра) и код (методы) - это члены класса.

**Динамическое выделение оперативной памяти для объекта с помощью оператора new**.
```
переменная_класса = new имя_класса();
```

**Конструктор класса** - метод, выполняющийся при создании объекта класса (оператором new). Имя конструктора совпадает
с именем класса. Конструктор не имеет возвращаемого типа (даже void) т.к. неявно возвращаемым типом конструктора
является тип самого класса. Если конструктор не объявлен программистом явно, то в Java автоматически создаётся 
конструктор по умолчанию.

**Конструктор по умолчанию** инициализирует все переменные экземпляра класса значениями по умолчанию:
* 0 - для переменных числовых типов (byte, short, int, long, char, float, double);
* false - для переменных логического типа (boolean);
* null - для переменных ссылочного типа (ссылок на объект).

**Параметризированный конструктор** - принимает параметры подобно методу.

**Присваивание переменным ссылок на объекты**
```
Box b1 = new Box(); // Выделение оперативной памяти для объекта и присваивание переменной b1 значения-ссылки на объект
Box b2 = b1;        // Переменные b1 и b2 ссылаются на один и тот же объект
// ...
b1 = null;          // Разрывание связи переменной b1 с объектом.
                    // Объект остаётся, пока на него существуют ссылки.
                    // Когда все ссылки на объект станут равны null, его удалит сборщик мусора (освободит память).
```

Доступ к переменным экземпляра осуществляется с помощью операции-точки (.). В формальной спецификации языка точка (.)
относится к разделителям.

## **Метод класса**

Объявление метода класса:
```
тип_возвращаемый_методом имя_метода (список_параметров) {
    // тело метода
    return значение_возвращаемое_методом; // если тип_возвращаемый_методом не void
}
```
Список параметров - последовательность пар "тип-идентификатор", разделённых запятыми.
Параметры - это переменные, которые принимают значения аргументов, передаваемых методу во время его вызова.

* **Параметр** - это определённая в методе переменная, которая принимает заданное значение при вызове метода 
  (принимает аргумент).
* **Аргумент** - это значение, передаваемое методу при его вызове.
```
print (int i) {
    System.out.println(i);
}
...
print (100); // параметр i принимает при вызове в качестве аргумента значение 100
```

## **Ключевое слово this**

**this** - это ссылка на объект, для которого был вызван метод (т.е. ссылка на текущий объект).

Используется для предотвращения сокрытия переменных экземпляра (для возможности доступа к ним из кода).

## **Сокрытие переменной экземпляра**

**Сокрытие переменной экземпляра** - это ситуация, когда имя локальной переменной метода совпадает с именем переменной
экземпляра класса. Т.е. локальная переменная _скрывает_ переменную экземпляра класса.

## **Сборка мусора**

С помощью оператора new динамически выделяется оперативная память для объектов.

**Сборка мусора** - это автоматическое освобождение оперативной памяти, которым занимается исполняющая среда Java.
Если на объект отсутствуют ссылки, то считается, что объект больше не нужен и его можно удалить и освободить занимаемую
им оперативную память. В Java не нужно явно уничтожать объекты (как в C++).
Сборка мусора выполняется в соответствии с логикой работы исполняющей среды.

## **Метод finalize()**

Метод **finalize()** - это средство _полного завершения_ - освобождения ресурсов перед полным уничтожением объекта.
Метод finalize() выполняется непосредственно перед удалением объекта сборщиком мусора.
Этот метод можно определить в классе:
```
protected void finalize() {
    // код освобождения занятых объектом ресурсов
}
```
Однако не следует рассчитывать на обязательное выполнение метода finalize(), т.к. точно неизвестно когда сборщик мусора
удалит объект. Поэтому в программе нужно отдельно позаботиться об освобождении занятых объектом системных ресурсов.
